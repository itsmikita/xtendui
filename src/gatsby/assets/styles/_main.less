/**
 * structure
 */

// indexes

.gatsby_site_header {
  position: relative;
  z-index: 9;
}

.gatsby_site_main {
  position: relative;
  z-index: 8;
}

.gatsby_site_footer {
  position: relative;
  z-index: 7;
}

// prevent horizontal overflow

.gatsby_site_wrapper {
  overflow: hidden;
}

.gatsby_site_header, .gatsby_site_main, .gatsby_site_footer {
  .full();
}

// sticky footer

.gatsby_site_wrapper {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
  min-height: 100vh;
}

.gatsby_site_main,
.gatsby_site_main_inner,
.gatsby_site_article,
.gatsby_site_article_inner {
  display: flex;
  flex-direction: column;
  .flex--auto();
}

/**
 * article
 */

.gatsby_site_article {
  background: @white;
  box-shadow: @shadow-light;
  @media @min-md {
    margin-left: @gatsby_site_article_sidebar_width;
  }
}

.gatsby_site_article_hero {
  position: relative;
  .container-space();
  .padding(top, giant);
  .padding(bottom, 8rem);
  background: @gray-100;
  p {
    .font--big();
    color: @gray-500;
  }
  // animations
  overflow: hidden;
  .gatsby_site_article_hero_links {
    .anim-opacity.out();
    > .row > * {
      opacity: 0;
      transform: translateY(1.5rem);
      transition-property: opacity, transform;
      transition-duration: @time-medium;
      transition-timing-function: @bez-in;
      transition-delay: 150ms; // @start + @child * @increment
      .nth-child(@child: 3, @start: 0ms, @increment: 50ms, @decrement: 0ms, {
        @transition-delay();
      });
    }
  }
  &:hover, &:focus-within {
    .gatsby_site_article_hero_links {
      .anim-opacity.active();
      > .row > * {
        opacity: 1;
        transform: translateY(0);
        transition-property: opacity, transform;
        transition-duration: @time-medium;
        transition-timing-function: @bez-in;
      }
    }
  }
}

.gatsby_site_article_hero_content {
  .badge {
    margin-top: -1rem;
    margin-left: 1.5rem;
  }
  h1 {
    em {
      .font-sans--regular();
      color: @gray-300;
    }
  }
}

.gatsby_site_article_hero_links {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(180deg, @grad-light);
  border-bottom: 1px solid @gray-200;
  .container-space();
  .padding(y, small);
  > .row {
    .row-space(medium);
    justify-content: space-between;
  }
  .btn {
    .link-none();
    .btn--text();
    .btn--small();
    .btn--none-x();
  }
}

.gatsby_site_article_content {
  .flex--auto();
  .container-space();
  .padding(y, giant);
  z-index: @index-sticky + 1;
  border-top: 1px solid @gray-200;
  background: @white;
}


.gatsby_site_article_hero_content_inner,
.gatsby_site_article_content_inner {
  margin: auto;
  max-width: 1200px;
}

.gatsby_site_article_foot {
  border-top: 1px solid @gray-200;
  .container-space();
  .padding(y, big);
}

/**
 * listing
 */

.gatsby_listing {
  > .row {
    .row-space(huge);
  }
}

.gatsby_listing_group {
  .col(12);
}

.gatsby_listing_title {
  .h6();
  .header--block();
  .spacing-big();
}

.gatsby_listing_items {
  > .row {
    .row-space(giant);
  }
}

.gatsby_listing_column {
  .col(12);
  .col(6, sm);
  .col(4, xl);
}

