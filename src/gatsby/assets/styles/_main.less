/**
 * structure
 */

body {
  background: @white;
}

// indexes

.gatsby_site_header {
  position: relative;
  z-index: 9;
}

.gatsby_site_main {
  position: relative;
  z-index: 8;
}

.gatsby_site_footer {
  position: relative;
  z-index: 7;
}

// prevent horizontal overflow

.gatsby_site_wrapper {
  overflow: hidden;
}

.gatsby_site_header, .gatsby_site_main, .gatsby_site_footer {
  .full();
}

// sticky footer

.gatsby_site_wrapper {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
  min-height: 100vh;
  min-height: calc(var(--vh, 1vh) * 100);
}

.gatsby_site_main,
.gatsby_site_main_inner,
.gatsby_site_article,
.gatsby_site_article_inner {
  display: flex;
  flex-direction: column;
  .flex-auto();
}

/**
 * article
 */

.gatsby_site_article {
  background: @white;
  box-shadow: @shadow-light;
  @media @min-md {
    margin-left: @gatsby_site_article_sidebar_width;
  }
}

.gatsby_site_article_hero {
  .container-space();
  .padding(y, giant);
  .padding(y, huge, lg);
  background: linear-gradient(180deg, @shade-200 0%, @white 66%);
  h2 {
    .reset-text();
    .font-big();
    color: @text-light;
  }
  // animation
  .gatsby_site_article_hero_links_inner {
    > .row > * {
      opacity: 0;
      transform: translateY(1.5rem);
      transition: opacity @time-small @ease-out, transform @time-small @ease-out;
      transition-delay: 500ms; // @start + @child * @increment
      .nth-child(@child: 3, @start: 0ms, @increment: 250ms, @decrement: 0ms, {
        @transition-delay();
      });
    }
  }
  &:hover, &:focus-within {
    .gatsby_site_article_hero_links_inner {
      > .row > * {
        opacity: 1;
        transform: translateY(0);
        transition: opacity @time-small @ease-in, transform @time-small @ease-in;
        transition-delay: 500ms; // @start + @child * @increment
        .nth-child(@child: 3, @start: 0ms, @increment: 250ms, @decrement: 0ms, {
          @transition-delay();
        });
      }
    }
  }
}

.gatsby_site_article_hero_inner {
  position: relative;
}

.gatsby_site_article_hero_content {
  .badge {
    margin-top: -1rem;
    margin-left: 1.5rem;
  }
  h1 {
    em {
      .font-sans-regular();
      color: darken(@shade-100, 10%);
    }
  }
}

.gatsby_site_article_hero_content_inner {
  &:not(.fade) {
    pointer-events: none;
  }
}

.gatsby_site_article_hero_links {
  position: absolute;
  bottom: -8rem;
  left: 0;
  right: 0;
  width: 100%;
  .margin(bottom, 3.5rem);
  .margin(bottom, 2.5rem, lg);
  .btn {
    .btn-text();
    .btn-small();
    .btn-none-x();
  }
}

.gatsby_site_article_content {
  .flex-auto();
  .container-space();
  .padding(y, giant);
  .gatsby_site_article_hero + & {
    .padding(top, none);
  }
}


.gatsby_site_article_hero_inner,
.gatsby_site_article_content_inner,
.gatsby_site_article_foot_inner,
.gatsby_site_footer_inner {
  margin: auto;
  max-width: @breakpoint-md;
  @media @min-xl {
    max-width: @breakpoint-lg;
  }
}

.gatsby_site_article_hero_content_inner,
.gatsby_site_article_hero_links_inner {
  max-width: 70rem;
  .row {
    .row-space(large);
    justify-content: space-between
  }
}


.gatsby_site_article_foot {
  .container-space();
  .padding(y, big);
  background: linear-gradient(-180deg, @white 0%, @shade-200 100%);
}

/**
 * listing
 */

.gatsby_listing {
  > .row {
    .row-space(large);
  }
}

.gatsby_listing_group {
  .col(12);
}

.gatsby_listing_title {
  .h5();
  .header-block();
}

.gatsby_listing_items {
  > .row {
    .row-space(large);
    .row-stretch();
  }
}

.gatsby_listing_column {
  .col(12);
  .col(6, sm);
  .col(4, lg);
}

.gatsby_listing_item {
  // interactive
  a&, label& {
    &:hover, &.hover {
      .card-design {
        box-shadow: @shadow-accent;
      }
    }
    &:active, &.active {
      .card-design {
        box-shadow: none;
      }
    }
  }
  // animation
  a&, label& {
    transition: all @time-small @ease-out;
    .card-design {
      transition: all @time-small @ease-out;
    }
    &:hover, &.hover {
      transform: translateY(-.5rem);
      transition: all @time-small @ease-in;
      .card-design {
        transition: all @time-small @ease-in;
      }
    }
    &:active, &.active {
      transform: none;
      transition: all @time-small @ease-in;
      .card-design {
        transition: all @time-small @ease-in;
      }
    }
  }
}
