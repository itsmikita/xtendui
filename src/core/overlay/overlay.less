@import '~xtend-library/src/core/javascript/javascript.less';
@import '~xtend-library/src/core/overlay/_overlay.less';

/**
 * vars
 */

// space

@generate-overlay-space: @generate-container-space; // overlay external spacing

// size

@generate-overlay-size: tiny, small, medium, large, big, full; // overlay internal spacing
@overlay-tiny: @breakpoint-xs - 60;
@overlay-small: @breakpoint-sm - 60;
@overlay-medium: @breakpoint-md - 60;
@overlay-large: @breakpoint-lg - 60;
@overlay-big: @breakpoint-xl - 60;
@overlay-full: none;

/**
 * overlay
 */

.overlay {
  .overlay-inner {
    border-radius: .5em;
  }
  .overlay-design {
    border-width: 1px;
    border-style: solid;
    border-color: transparent;
  }
  // default on mobile
  @media @max-sm {
    .overlay-container {
      padding: 0 !important;
    }
    .card-overlay {
      .card-squared();
    }
  }
  // default options
  .overlay-size(small);
}

// special

.overlay-disable {
  // disable custom animation
  .overlay-inner, .card-overlay > .card-inner > * {
    opacity: 1 !important;
    .trans-anim-none() !important;
  }
}

// animation

.overlay {
  .card-overlay > .card-design,
  .card-overlay > .card-inner > * {
    opacity: 0;
    transform: scale(.75, .75);
  }
  .card-overlay > .card-inner > .card-content {
    opacity: 0;
    transform: translateY(-1.5rem);
  }
  &.in {
    animation-duration: @time-small + @time-tiny; // needed for animation time and backdrop animation time, put max animation time
    .card-overlay > .card-design,
    .card-overlay > .card-inner > * {
      opacity: 1;
      transform: scale(1);
      transition: transform @time-medium @ease-on, opacity @time-medium @ease-on;
    }
    .card-overlay > .card-inner > .card-content {
      opacity: 1;
      transform: none;
      transition: transform @time-medium @ease-on @time-tiny, opacity @time-medium @ease-on @time-tiny;
    }
  }
  &.out {
    animation-duration: @time-small + @time-tiny; // needed for animation time and backdrop animation time, put max animation time
    .card-overlay > .card-design,
    .card-overlay > .card-inner > * {
      opacity: 0;
      transform: scale(.75, .75);
      transition: transform @time-small @ease-off @time-tiny, opacity @time-small @ease-off @time-tiny;
    }
    .card-overlay > .card-inner > .card-content {
      opacity: 0;
      transform: translateY(1.5rem);
      transition: transform @time-small @ease-off, opacity @time-small @ease-off;
    }
  }
  // backdrop
  &.in {
    > .backdrop {
      .backdrop.in();
    }
  }
  &.out {
    > .backdrop {
      .backdrop.out();
    }
  }
}

.overlay-noanim {
  .card-overlay > .card-design,
  .card-overlay > .card-inner > * {
    opacity: 1;
  }
  .card-overlay > .card-inner > .card-content {
    opacity: 1;
  }
  &.in {
    .card-overlay > .card-design,
    .card-overlay > .card-inner > * {
      .transform-none();
      .transition-none();
    }
    .card-overlay > .card-inner > .card-content {
      .transform-none();
      .transition-none();
    }
  }
  &.out {
    .card-overlay > .card-design,
    .card-overlay > .card-inner > * {
      opacity: 1;
      .transform-none();
      .transition-none();
    }
    .card-overlay > .card-inner > .card-content {
      opacity: 1;
      .transform-none();
      .transition-none();
    }
  }
}
