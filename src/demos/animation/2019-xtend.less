@import (reference) '~xtend-library/src/xtend-core.less';
@import '~xtend-library/src/core/card/card.less';
@import '~xtend-library/src/core/drop/drop.less';
@import '~xtend-library/src/core/overlay/overlay.less';
@import '~xtend-library/src/addons/card/interactive.less';
@import '~xtend-library/src/addons/overlay/position.less';
@import '~xtend-library/src/addons/overlay/screen.less';

.demo--2019-xtend {
  /**
   * vars
   */

  // ease

  @ease-enter: @ease-out-quint;
  @ease-leave: @ease-in-out-quint;

  /**
   * button
   */

  // variant

  .btn-default {
    &:hover, &.hover {
      transform: translateY(-.25rem);
      box-shadow: @shadow-light;
    }
    &:active, &.active {
      transform: none;
      box-shadow: @shadow-none;
    }
  }

  .btn-primary {
    &:hover, &.hover {
      transform: translateY(-.25rem);
      box-shadow: @shadow-accent;
    }
    &:active, &.active {
      transform: none;
      box-shadow: @shadow-none;
    }
  }

  // animation

  .btn {
    transition: border @time-small @ease-leave, background @time-small @ease-leave, color @time-small @ease-leave, box-shadow @time-small @ease-leave, transform @time-tiny @ease-leave;
    &:hover, &.hover {
      transition: border @time-small @ease-enter, background @time-small @ease-enter, color @time-small @ease-enter, box-shadow @time-small @ease-enter, transform @time-tiny @ease-enter;
    }
    &:active, &.active {
      transition: border @time-small @ease-enter, background @time-small @ease-enter, color @time-small @ease-enter, box-shadow @time-small @ease-enter, transform @time-tiny @ease-enter;
    }
  }

  /**
   * drop
   */

  // animation

  .drop-container {
    > .drop {
      > .drop-inner {
        > .drop-design {
          opacity: 0;
          transform: scale(.75, .75);
        }
        > .drop-content {
          opacity: 0;
          transform: translateY(-1.5rem);
        }
      }
    }
    &.in {
      animation-duration: @time-small + @time-tiny; // needed for animation time and backdrop animation time, put max animation time
      > .drop {
        > .drop-inner {
          > .drop-design {
            opacity: 1;
            transform: none;
            transition: transform @time-medium @ease-enter, opacity @time-medium @ease-enter;
          }
          > .drop-content {
            opacity: 1;
            transform: none;
            transition: transform @time-medium @ease-enter @time-tiny, opacity @time-medium @ease-enter @time-tiny;
          }
        }
      }
    }
    &.out {
      animation-duration: @time-small + @time-tiny; // needed for animation time and backdrop animation time, put max animation time
      > .drop {
        > .drop-inner {
          > .drop-design {
            opacity: 0;
            transform: scale(.75, .75);
            transition: transform @time-small @ease-leave @time-tiny, opacity @time-small @ease-leave @time-tiny;
          }
          > .drop-content {
            opacity: 0;
            transform: translateY(1.5rem);
            transition: transform @time-small @ease-leave, opacity @time-small @ease-leave;
          }
        }
      }
    }
  }

  /**
    * overlay
    */

  // animation

  .overlay& {
    .card-overlay {
      > .card-design {
        opacity: 0;
        transform: scale(.75, .75);
      }
      > .btn-close {
        opacity: 0;
      }
      > .card-inner {
        > .card-block,  > .card-content {
          opacity: 0;
          transform: translateY(-1.5rem);
        }
      }
    }
    &.in {
      animation-duration: @time-medium + @time-tiny; // needed for animation time and backdrop animation time, put max animation time
      .card-overlay {
        > .card-design {
          opacity: 1;
          transform: scale(1);
          transition: transform @time-medium @ease-enter, opacity @time-medium @ease-enter;
        }
        > .btn-close {
          // use animation to not override .btn transitions
          .anim-zoom.in();
          animation-delay: @time-medium;
        }
        > .card-inner {
          > .card-block,  > .card-content {
            opacity: 1;
            transform: none;
            transition: transform @time-medium @ease-enter @time-tiny, opacity @time-medium @ease-enter @time-tiny;
          }
        }
      }
    }
    &.out {
      animation-duration: @time-small + @time-tiny; // needed for animation time and backdrop animation time, put max animation time
      .card-overlay {
        > .card-design {
          opacity: 0;
          transform: scale(.75, .75);
          transition: transform @time-small @ease-leave @time-tiny, opacity @time-small @ease-leave @time-tiny;
        }
        > .btn-close {
          // use animation to not override .btn transitions
          .anim-zoom.out();
          animation-delay: initial;
        }
        > .card-inner {
          > .card-block,  > .card-content {
            opacity: 0;
            transform: translateY(1.5rem);
            transition: transform @time-small @ease-leave, opacity @time-small @ease-leave;
          }
        }
      }
    }
  }

  /**
   * card
   */

  // variant

  .card-default& {
    // interactive
    a&, label& {
      &:hover, &.hover {
        > .card-design {
          box-shadow: @shadow-light;
        }
      }
      &:active, &.active {
        > .card-design {
          box-shadow: none;
        }
      }
    }
  }

  .card-primary& {
    // interactive
    a&, label& {
      &:hover, &.hover {
        > .card-design {
          box-shadow: @shadow-accent;
        }
      }
      &:active, &.active {
        > .card-design {
          box-shadow: none;
        }
      }
    }
  }

  .card-white& {
    // interactive
    a&, label& {
      &:hover, &.hover {
        > .card-design {
          box-shadow: @shadow-light;
        }
      }
      &:active, &.active {
        > .card-design {
          box-shadow: none;
        }
      }
    }
  }

  // animation

  .card& {
    // interactive
    a&, label& {
      transition: all @time-small @ease-leave;
      > .card-design {
        transition: all @time-small @ease-leave;
      }
      &:hover, &.hover {
        transform: translateY(-.5rem);
        transition: all @time-small @ease-enter;
        > .card-design {
          transition: all @time-small @ease-enter;
        }
      }
      &:active, &.active, input[type="checkbox"]:not(.unstyled):checked ~ &, input[type="radio"]:not(.unstyled):checked ~ & {
        transform: none;
        transition: all @time-small @ease-enter;
        > .card-design {
          transition: all @time-small @ease-enter;
        }
      }
    }
  }

}
