//////////////////////
// sticky
//////////////////////

/**
 * .sticky()
 * @param {String} @mode Starting mode be 'absolute' or 'fixed'
 */
.sticky(@mode: none) {
  // option
  &.xt-clone {
    position: relative;
    visibility: hidden;
    top: 0;
    width: 100%;
  }
  &:not(.xt-clone) {
    position: relative;
    width: 100%;
  }
  // normal mode
  & when (@mode = none) {
    &.xt-clone:not(.active) {
      position: absolute;
    }
    .xt-container > &:not(.xt-clone):not(.active) {
      position: relative;
    }
  }
  // absolute mode
  & when (@mode = 'absolute') {
    &.xt-clone:not(.active) {
      position: relative;
    }
    .xt-container > &:not(.xt-clone):not(.active) {
      position: absolute;
    }
  }
  // fixed mode
  & when (@mode = 'fixed') {
    &.xt-clone:not(.active) {
      position: relative;
    }
    .xt-container > &:not(.xt-clone):not(.active) {
      position: fixed;
    }
  }
  // fixed mode
  & when (@mode = 'fixed-always') {
    &.xt-clone {
      position: absolute;
    }
    &:not(.xt-clone) {
      position: fixed;
    }
  }
  // showhide
  .show-sticky {
    display: none;
  }
  .hide-sticky {
    display: block;
  }
  &:not(.xt-clone).active {
    .show-sticky {
      display: block;
    }
    .hide-sticky {
      display: none;
    }
  }
  // activation
  &:not(.xt-clone).active {
    position: fixed;
    z-index: @index--sticky;
    width: 100%;
  }
}

.sticky--disabled {
  .xt-disable();
  position: relative !important;
  top: auto !important;
  bottom: auto !important;
  &.xt-clone {
    position: absolute !important;
  }
  &:not(.xt-clone) {
    position: relative !important;
  }
}