@import (reference) '~xtend-library/src/xtend-core.less';
@import '~xtend-library/src/core/button/button.less';
@import '~xtend-library/src/core/overlay/overlay.less';
@import '~xtend-library/src/core/typography/typography.less';

@import '~xtend-library/src/addons/overlay/_position.less';

/**
 * overlay-position
 */

.overlay-position {
  .overlay-container {
    .overlay-position-left& {
      width: 88% !important;
      max-width: 500px !important;
      .btn-close {
        left: 0;
        right: auto;
      }
    }
    .overlay-position-right& {
      width: 88% !important;
      max-width: 500px !important;
    }
  }
  .card-overlay {
    .card-squared();
    .card-noborder();
  }
}

// animation

.overlay-position {
  .overlay-noanim();
  &.overlay-position-left {
    .card-overlay > .card-design {
      opacity: 0;
      transform: translateX(-100%);
    }
    .card-overlay > .card-inner > .card-content {
      opacity: 0;
      transform: translateX(-125%);
    }
  }
  &.overlay-position-right {
    .card-overlay > .card-design {
      opacity: 0;
      transform: translateX(100%);
    }
    .card-overlay > .card-inner > .card-content {
      opacity: 0;
      transform: translateX(125%);
    }
  }
  &.in {
    animation-duration: @time-medium; // needed for animation time and backdrop animation time, put max animation time
    &.overlay-position {
      .card-overlay > .card-design {
        opacity: 1;
        transform: none;
        transition: transform @time-medium @ease-on, opacity @time-tiny @ease-on;
      }
      .card-overlay > .card-inner > .card-content {
        opacity: 1;
        transform: none;
        transition: transform @time-medium @ease-on, opacity @time-tiny @ease-on;
      }
    }
  }
  &.out {
    animation-duration: @time-small; // needed for animation time and backdrop animation time, put max animation time
    &.overlay-position-left {
      .card-overlay > .card-design {
        opacity: 0;
        transform: translateX(-100%);
        transition: transform @time-small @ease-off, opacity @time-tiny @ease-off @time-tiny;
      }
      .card-overlay > .card-inner > .card-content {
        opacity: 0;
        transform: translateX(-125%);
        transition: transform @time-small @ease-off, opacity @time-tiny @ease-off @time-tiny;
      }
    }
    &.overlay-position-right {
      .card-overlay > .card-design {
        opacity: 0;
        transform: translateX(100%);
        transition: transform @time-small @ease-off, opacity @time-tiny @ease-off @time-tiny;
      }
      .card-overlay > .card-inner > .card-content {
        opacity: 0;
        transform: translateX(125%);
        transition: transform @time-small @ease-off, opacity @time-tiny @ease-off @time-tiny;
      }
    }
  }
}

.overlay-position-noanim {
  .card-overlay > .card-design {
    opacity: 1;
  }
  .card-overlay > .card-inner > .card-content {
    opacity: 1;
  }
  &.in {
    .card-overlay > .card-design {
      .transform-none();
      .transition-none();
    }
    .card-overlay > .card-inner > .card-content {
      .transform-none();
      .transition-none();
    }
  }
  &.out {
    .card-overlay > .card-design {
      opacity: 1;
      .transform-none();
      .transition-none();
    }
    .card-overlay > .card-inner > .card-content {
      opacity: 1;
      .transform-none();
      .transition-none();
    }
  }
}
