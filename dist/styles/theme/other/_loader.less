//////////////////////
// loader
//////////////////////

.progress {
  > span:nth-child(1) {
    background: @gray--250;
  }
  > span:nth-child(2) {
    background: @primary;
    box-shadow: 0 .1em 1em fade(@primary, @perc--md), 0 .2em 2em fade(@primary, @perc--lg);
  }
}

// direction

.loader--x {
  .progress {
    > span:nth-child(2) {
      animation: anim-progress--x @time--giant infinite linear;
    }
  }
}

.loader--y {
  .progress {
    > span:nth-child(2) {
      animation: anim-progress--y @time--giant infinite linear;
    }
  }
}

@keyframes anim-progress--x {
  0% {
    left: 0;
    width: 0;
  }
  50% {
    left: 0;
    width: 100%;
    animation-timing-function: @bez--out;
  }
  100% {
    left: 100%;
    width: 0;
  }
}

@keyframes anim-progress--y {
  0% {
    top: 0;
    height: 0;
  }
  50% {
    top: 0;
    height: 100%;
    animation-timing-function: @bez--out;
  }
  100% {
    top: 100%;
    height: 0;
  }
}

// size

.loader--size-top,
.loader--size-bottom {
  .progress {
    height: 3px;
  }
}

.loader--size-right,
.loader--size-left {
  .progress {
    width: 3px;
  }
}

// background

.loader--background {
  background: fade(@white, 80%);
}







.progress_slider {
  position: absolute;
  z-index: @index--loader;
  // circle
  circle {
    fill: none;
    stroke-width: 25;
    transform: rotateZ(-90deg);
    transform-origin: center center;
    &:nth-child(1) {
      position: absolute;
      top: 0;
      left: 0;
      stroke: @gray--250;
      stroke-dashoffset: 0;
    }
    &:nth-child(2) {
      stroke: @primary;
    }
  }
}

// addons
/*
.loader_background {
  &::before {
    .design-setup();
    background: @white;
  }
}

.loader--full {
  .padding(x, 33%) !important;
}

// variant

.preload {
  overflow: hidden;
  height: 2px;
  &::before,
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
  }
  &::before {
    z-index: 2;
    width: 100%;
    background: @gray--250;
  }
  &::after {
    z-index: 3;
    width: 0;
    background: @black;
    // animation
    animation: anim-loader 1000ms infinite linear;
  }
}

@keyframes anim-loader {
  0% {
    left: 0;
    width: 0;
  }
  50% {
    left: 0;
    width: 100%;
    animation-timing-function: @bez--out;
  }
  100% {
    left: 100%;
    width: 0;
  }
}

// activation

.loader {
  .anim-opacity.active();
}
*/

/* USAGE:
<div class="loader loader--html loader--relative">
    <div class="preload"></div>
</div>
<div class="loader loader_background loader--full">
    <div class="preload"></div>
</div>
*/

/* USAGE:
// loader
document.querySelectorAll('html')[0].classList.add('loaded');
*/

/* put any selector here you want to loader
.main-container {
  visibility: hidden;
  html.loaded &,
  html.loader--fade & {
    visibility: visible;
  }
}
*/