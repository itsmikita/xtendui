//////////////////////
// fieldset and legend
//////////////////////

fieldset + fieldset {
  .margin(top, small);
}

legend {
  .block();
  .h4();
  .header--line();
}

//////////////////////
// group
//////////////////////

.form_item {
  // options
  .form_item--medium();
}

// addons

.form_item--flex {
  .flex-space--x(medium);
}

.form_item--flex-sm {
  @media @min-sm {
    .form_item--flex();
  }
}

.form_item--horizontal {
  .flex-space--x(medium);
  .align-items--center();
  .text-align(right);
}

.form_item--horizontal-sm {
  @media @min-sm {
    .form_item--horizontal();
  }
}

.form_item--inline {
  .list-space--x(medium);
  .align-items--baseline();
}

.form_item--inline-sm {
  @media @min-sm {
    .form_item--inline();
  }
}

// size

.form_item--tiny {
  .padding(bottom, 1em);
  font-size: 1.1rem;
}

.form--tiny {
  .form_items({ .form_item--tiny() });
}

.form_item--small {
  .padding(bottom, 1.25em);
  font-size: 1.2rem;
}

.form--small {
  .form_items({ .form_item--small() });
}

.form_item--medium {
  .padding(bottom, 1.5em);
  font-size: 1.3rem;
}

.form--medium {
  .form_items({ .form_item--medium() });
}

.form_item--big {
  .padding(bottom, 1.5em);
  font-size: 1.4rem;
}

.form--big {
  .form_items({ .form_item--big() });
}

.form_item--giant {
  .padding(bottom, 1.5em);
  font-size: 1.5rem;
}

.form--giant {
  .form_items({ .form_item--giant() });
}

// special

.form_item--none {
  .padding(all, none);
}

.form--none {
  .form_items({ .form_item--none() });
}

//////////////////////
// input
//////////////////////

.form_input {
  // styles
  padding: .75em 1.2em; // size in em inherit .form_item size
  .font-sans--regular();
  font-size: 1em; // size in em inherit .form_item size
  .line-height--tiny();
  // options
  .form_input-gray();
  // animation
  .transition-default.out();
  &:hover, &.active {
    .transition-default.active();
  }
  &:focus {
    .transition-default.active();
  }
}

// variant

.form_input-gray {
  // styles
  border-color: @gray--300;
  background: @white;
  color: @text;
  &:focus {
    background: darken(@white, @perc--xs);
  }
  // select arrow
  select& {
    @select-arrow-color: darken(@gray--300, @perc--md);
    @select-space-color: darken(@gray--300, @perc--xs);
    background-image: linear-gradient(45deg, transparent 50%, @select-arrow-color 50%),
    linear-gradient(135deg, @select-arrow-color 50%, transparent 50%),
    linear-gradient(to right, @select-space-color, @select-space-color);
  }
}

// placeholder

:-ms-input-placeholder {
  color: @gray--500;
}

:-moz-placeholder {
  color: @gray--500;
}

::-webkit-input-placeholder {
  color: @gray--500;
}

::-ms-input-placeholder {
  color: @gray--500;
}

::-moz-placeholder {
  color: @gray--500;
}

::placeholder {
  color: @gray--500;
}

// others

textarea {
  height: 100px !important;
}

//////////////////////
// label
//////////////////////

.form_label {
  // styles
  .margin(bottom, 1em); // from .form_item font size
  .font-sans--semibold();
  font-size: 1em; // from .form_item font size
  color: @gray--500;
  .line-height--tiny();
  .letter-spacing--small();
  text-transform: uppercase;
}

//////////////////////
// check and radio
//////////////////////

// label

.label-checkradio {
  .margin(all, none); // reset .form_label
  .padding(left, small); // space from checkbox/radio
  // styles
  .font-sans--regular();
  font-size: 13px;
  .line-height--tiny();
  .letter-spacing--none();
  text-transform: none;
}

// styled

.checkbox,
.radio {
  padding-left: 3rem;
  &::before,
  &::after {
    width: 1.8rem;
    height: 1.8rem;
  }
  &::before {
    background: @gray--250;
    border: 1px solid darken(@gray--250, @perc--md);
  }
  &::after {
    color: darken(@gray--250, @perc--lg);
  }
  // animation
  &::before {
    .transition-default.out();
    transform: scale(.9, .9);
  }
  &::after {
    .transition-default.out();
    opacity: 0 !important;
    transform: scale(.9, .5);
  }
  &.active {
    &::before {
      .transition-default.active();
      transform: scale(1, 1);
    }
    &::after {
      .transition-default.active();
      opacity: 1 !important;
      transform: scale(1, 1);
    }
  }
}

.checkbox {
  &::before {
    border-radius: @input--border-radius;
  }
  &::after {
    .icon-xt();
    content: @icon-xt--check;
    font-size: 100%;
  }
}

.radio {
  &::before {
    border-radius: 50%;
  }
  &::after {
    .icon-xt();
    content: @icon-xt--circle;
    font-size: 55%;
  }
}

// pseudo

input[type="checkbox"]:not(.unstyled) {
  // disabled
  &:disabled ~ .form_label {
    .disabled();
  }
  // animation
  &:checked ~ .form_label {
    .checkbox.active();
  }
}

input[type="radio"]:not(.unstyled) {
  // disabled
  &:disabled ~ .form_label {
    .disabled();
  }
  // animation
  &:checked ~ .form_label {
    .radio.active();
  }
}
